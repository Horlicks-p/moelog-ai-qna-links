==========================================
Moelog AI Q&A Links
How to Use helpers-template.php
==========================================

üì¶ File: /includes/helpers-template.php
Purpose: Centralize reusable HTML fragments used in answer-page.php.
Version: 1.8.0+
Author: Horlicks (moelog.com)
==========================================

1Ô∏è‚É£ What it does
------------------------------------------
`helpers-template.php` is an optional helper file that contains PHP functions
to render common HTML sections used across templates (mainly answer-page.php).

By moving repeated HTML snippets here, you get:
- Cleaner template files (no long string concatenations)
- Consistent escaping (XSS-safe)
- Easier maintenance and reuse in other contexts (AJAX, REST, etc.)

------------------------------------------
2Ô∏è‚É£ How to include it
------------------------------------------
Before using its functions, include the file once in your plugin load flow.

You can include it either:
(A) Globally in moelog-ai-qna.php (recommended)
    ```php
    require_once __DIR__ . '/includes/helpers-template.php';
    ```

(B) Or locally in the renderer before loading answer-page.php:
    ```php
    require_once MOELOG_AIQNA_DIR . 'includes/helpers-template.php';
    ```

------------------------------------------
3Ô∏è‚É£ Example functions provided
------------------------------------------

üîπ moe_tpl_original_link_section($post_id)
------------------------------------------
Generates the "Original Article Link" section displayed below AI answers.

‚úÖ Original code (before):

```php
// long block building <div class="moe-original-section"> manually
```

‚úÖ Replace with:

```php
$original_html = moe_tpl_original_link_section($post_id);
```

This outputs:

html
<div class="moe-original-section">
  ÂéüÊñáÈÄ£Áµê<br>
  [moelog.com]
  <a href="https://www.moelog.com/post-title" target="_blank" rel="noopener noreferrer" class="moe-original-link">
    https://www.moelog.com/post-title
  </a>
</div>

All variables are properly escaped for security.

üîπ moe_tpl_banner($url, $alt)
Optional helper to render the top banner section.

‚úÖ Replace your current banner block:

```php
$banner_url = apply_filters('moelog_aiqna_banner_url', '');
$banner_alt = apply_filters('moelog_aiqna_banner_alt', get_bloginfo('name'));
echo moe_tpl_banner($banner_url, $banner_alt);
```

The function automatically handles background-image style
and sets ARIA attributes for accessibility.

(You can freely add more helpers here for other recurring sections,
for example a disclaimer block, footer note, or heading builder.)

4Ô∏è‚É£ Benefits
‚úî Easier to maintain: change HTML structure in one place
‚úî Safer output: consistent use of esc_html, esc_url, and esc_attr
‚úî Keeps answer-page.php focused on layout logic
‚úî Ready for future expansion (other templates or admin previews)

5Ô∏è‚É£ Next step (optional)

If you often reuse the disclaimer or footer, consider adding:

```php 
function moe_tpl_disclaimer($text) { ... }
```

so your answer-page.php can simply call:

```php 
echo moe_tpl_disclaimer($disclaimer);
```

‚úÖ Summary
Place shared HTML generators in helpers-template.php
Require the file once before rendering
Replace inline HTML with helper calls
Keep escaping inside the helper for safety
That‚Äôs it ‚Äî your templates become cleaner, safer, and easier to extend.

¬© 2025 Horlicks / moelog.com
